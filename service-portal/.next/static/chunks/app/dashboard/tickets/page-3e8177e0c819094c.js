(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{51:(e,t,r)=>{Promise.resolve().then(r.bind(r,9185)),Promise.resolve().then(r.bind(r,735)),Promise.resolve().then(r.t.bind(r,6874,23))},735:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(5155),n=r(2115);let l=n.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}),a=n.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))});var i=r(2596),d=r(6874),c=r.n(d),o=r(3999),u=r(5695);function m(e){let{totalPages:t}=e,r=(0,u.usePathname)(),n=(0,u.useSearchParams)(),l=Number(n.get("page"))||1,a=e=>{let t=new URLSearchParams(n);return t.set("page",e.toString()),"".concat(r,"?").concat(t.toString())},i=(0,o._B)(l,t);return(0,s.jsxs)("div",{className:"inline-flex",children:[(0,s.jsx)(f,{direction:"left",href:a(l-1),isDisabled:l<=1}),(0,s.jsx)("div",{className:"flex -space-x-px",children:i.map((e,t)=>{let r;return 0===t&&(r="first"),t===i.length-1&&(r="last"),1===i.length&&(r="single"),"..."===e&&(r="middle"),(0,s.jsx)(h,{href:a(e),page:e,position:r,isActive:l===e},"".concat(e,"-").concat(t))})}),(0,s.jsx)(f,{direction:"right",href:a(l+1),isDisabled:l>=t})]})}function h(e){let{page:t,href:r,isActive:n,position:l}=e,a=(0,i.A)("flex h-10 w-10 items-center justify-center text-sm border",{"rounded-l-md":"first"===l||"single"===l,"rounded-r-md":"last"===l||"single"===l,"z-10 bg-blue-600 border-blue-600 text-white":n,"hover:bg-gray-100":!n&&"middle"!==l,"text-gray-300":"middle"===l});return n||"middle"===l?(0,s.jsx)("div",{className:a,children:t}):(0,s.jsx)(c(),{href:r,className:a,children:t})}function f(e){let{href:t,direction:r,isDisabled:n}=e,d=(0,i.A)("flex h-10 w-10 items-center justify-center rounded-md border",{"pointer-events-none text-gray-300":n,"hover:bg-gray-100":!n,"mr-2 md:mr-4":"left"===r,"ml-2 md:ml-4":"right"===r}),o="left"===r?(0,s.jsx)(l,{className:"w-4"}):(0,s.jsx)(a,{className:"w-4"});return n?(0,s.jsx)("div",{className:d,children:o}):(0,s.jsx)(c(),{className:d,href:t,children:o})}},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return d},getImageProps:function(){return i}});let s=r(8229),n=r(8883),l=r(3063),a=s._(r(1193));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=l.Image},2596:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=function(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=t);return s}},2771:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(2115);let n=s.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},3999:(e,t,r)=>{"use strict";r.d(t,{_B:()=>n,c6:()=>s});let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return new Intl.DateTimeFormat(t,{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"}).format(e)},n=(e,t)=>t<=7?Array.from({length:t},(e,t)=>t+1):e<=3?[1,2,3,"...",t-1,t]:e>=t-2?[1,2,"...",t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t]},4477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return n.findSourceMapURL}});let s=r(3806),n=r(1818),l=r(4979).createServerReference},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(1469),n=r.n(s)},7444:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(5155),n=r(2115);let l=n.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});var a=r(5695);function i(e){var t;let{placeholder:r}=e,i=(0,a.useSearchParams)(),{replace:d}=(0,a.useRouter)(),c=(0,a.usePathname)(),o=function(e,t,r,s){var l=this,a=(0,n.useRef)(null),i=(0,n.useRef)(0),d=(0,n.useRef)(0),c=(0,n.useRef)(null),o=(0,n.useRef)([]),u=(0,n.useRef)(),m=(0,n.useRef)(),h=(0,n.useRef)(e),f=(0,n.useRef)(!0);h.current=e;var x="undefined"!=typeof window,p=!t&&0!==t&&x;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var g=!!(r=r||{}).leading,v=!("trailing"in r)||!!r.trailing,j="maxWait"in r,b="debounceOnServer"in r&&!!r.debounceOnServer,w=j?Math.max(+r.maxWait||0,t):null;return(0,n.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var t=o.current,r=u.current;return o.current=u.current=null,i.current=e,d.current=d.current||e,m.current=h.current.apply(r,t)},r=function(e,t){p&&cancelAnimationFrame(c.current),c.current=p?requestAnimationFrame(e):setTimeout(e,t)},n=function(e){if(!f.current)return!1;var r=e-a.current;return!a.current||r>=t||r<0||j&&e-i.current>=w},y=function(t){return c.current=null,v&&o.current?e(t):(o.current=u.current=null,m.current)},N=function e(){var s=Date.now();if(g&&d.current===i.current&&k(),n(s))return y(s);if(f.current){var l=t-(s-a.current);r(e,j?Math.min(l,w-(s-i.current)):l)}},k=function(){s&&s({})},S=function(){if(x||b){var s=Date.now(),d=n(s);if(o.current=[].slice.call(arguments),u.current=l,a.current=s,d){if(!c.current&&f.current)return i.current=a.current,r(N,t),g?e(a.current):m.current;if(j)return r(N,t),e(a.current)}return c.current||r(N,t),m.current}};return S.cancel=function(){c.current&&(p?cancelAnimationFrame(c.current):clearTimeout(c.current)),i.current=0,o.current=a.current=u.current=c.current=null},S.isPending=function(){return!!c.current},S.flush=function(){return c.current?y(Date.now()):m.current},S},[g,j,t,w,v,p,x,b,s])}(e=>{console.log("Searching... ".concat(e));let t=new URLSearchParams(i);t.set("page","1"),e?t.set("query",e):t.delete("query"),d("".concat(c,"?").concat(t.toString()))},300);return(0,s.jsxs)("div",{className:"relative flex flex-1 flex-shrink-0",children:[(0,s.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),(0,s.jsx)("input",{className:"peer block w-full rounded-md border border-gray-200 py-[9px] pl-10 text-sm outline-2 placeholder:text-gray-500",placeholder:r,onChange:e=>{o(e.target.value)},defaultValue:null===(t=i.get("query"))||void 0===t?void 0:t.toString()}),(0,s.jsx)(l,{className:"absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900"})]})}},9185:(e,t,r)=>{"use strict";r.d(t,{default:()=>L});var s=r(5155),n=r(7444),l=r(6766),a=r(2115);let i=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),d=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});var c=r(6874),o=r.n(c),u=r(4477);let m=(0,u.createServerReference)("400f5b238a9a637c35db6c7c8a154fa5c77553d7ab",u.callServer,void 0,u.findSourceMapURL,"deleteTicket");function h(e){let{id:t}=e;return(0,s.jsx)(o(),{href:"/dashboard/tickets/".concat(t,"/edit"),className:"rounded-md border p-2 hover:bg-gray-100",children:(0,s.jsx)(i,{className:"w-5"})})}function f(e){let{id:t}=e,r=m.bind(null,t);return(0,s.jsx)("form",{action:r,children:(0,s.jsxs)("button",{type:"submit",className:"rounded-md border p-2 hover:bg-gray-100",children:[(0,s.jsx)("span",{className:"sr-only",children:"Delete"}),(0,s.jsx)(d,{className:"w-5"})]})})}var x=r(2771),p=r(9337),g=r(2596);function v(e){let{status:t}=e;return(0,s.jsx)("span",{className:(0,g.A)("inline-flex items-center rounded-full px-2 py-1 text-xs",{"bg-gray-100 text-gray-500":"pending"===t,"bg-green-500 text-white":"resolved"===t}),children:"pending"==t?(0,s.jsxs)(s.Fragment,{children:["Pending",(0,s.jsx)(x.A,{className:"ml-1 w-4 text-gray-500"})]}):"resolved"==t?(0,s.jsxs)(s.Fragment,{children:["Resolved",(0,s.jsx)(p.A,{className:"ml-1 w-4 text-white"})]}):(0,s.jsxs)(s.Fragment,{children:[t,(0,s.jsx)(x.A,{className:"ml-1 w-4 text-gray-500"})]})})}var j=r(3999);function b(e){let{tickets:t,isAdminUser:r}=e;return(0,s.jsx)("div",{className:"mt-6 flow-root",children:(0,s.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,s.jsxs)("div",{className:"rounded-lg bg-gray-50 p-2 md:pt-0",children:[(0,s.jsx)("div",{className:"md:hidden",children:null==t?void 0:t.map(e=>{var t,n,a,i,d,c,o,u,m;return(0,s.jsxs)("div",{className:"mb-2 w-full rounded-md bg-white p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,s.jsx)(l.default,{src:(null===(t=e.attachments)||void 0===t?void 0:t.length)?"/file_uploads/ticket_images/"+(null===(n=e.attachments[0])||void 0===n?void 0:n.fileName):"/file.svg",className:"".concat((null===(a=e.attachments)||void 0===a?void 0:a.length)?"":"hidden"," mr-2 rounded-full"),width:28,height:28,alt:"".concat(e.title,"'s picture")}),(0,s.jsx)("p",{className:"text-l font-medium",children:e.title})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:(0,j.c6)(e.date)})]}),(0,s.jsx)(v,{status:e.status}),(0,s.jsxs)("p",{className:"text-l font-medium",children:["Category: ",null!==(u=null===(i=e.category)||void 0===i?void 0:i.name)&&void 0!==u?u:"---"]}),(0,s.jsxs)("p",{className:"text-l font-medium",children:["Priority: ",null!==(m=e.priority)&&void 0!==m?m:"---"]}),(0,s.jsxs)("p",{className:"text-l font-medium",children:["Assigned-to user: ",e.assignedToUser?(null===(d=e.assignedToUser)||void 0===d?void 0:d.name)+" ("+(null===(o=e.assignedToUser)||void 0===o?void 0:null===(c=o.role)||void 0===c?void 0:c.name)+")":"---"]})]}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between pt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-l font-medium",children:e.details}),(0,s.jsx)("p",{children:(0,j.c6)(e.date)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(h,{id:e.id}),r&&(0,s.jsx)(f,{id:e.id})]})]})]},e.id)})}),(0,s.jsxs)("table",{className:"hidden min-w-full text-gray-900 md:table",children:[(0,s.jsx)("thead",{className:"rounded-lg text-left text-sm font-normal",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-4 py-5 font-medium sm:pl-6",children:"Title"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Date"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Category"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Priority"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Assigned-to user"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Details"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Tags"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"relative py-3 pl-6 pr-3",children:(0,s.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,s.jsx)("tbody",{className:"bg-white",children:null==t?void 0:t.map(e=>{var t,n,a,i,d,c,o,u,m,x,p;return(0,s.jsxs)("tr",{className:"w-full border-b py-3 text-sm last-of-type:border-none [&:first-child>td:first-child]:rounded-tl-lg [&:first-child>td:last-child]:rounded-tr-lg [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",children:[(0,s.jsx)("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(l.default,{src:(null===(t=e.attachments)||void 0===t?void 0:t.length)?"/file_uploads/ticket_images/"+(null===(n=e.attachments[0])||void 0===n?void 0:n.fileName):"/file.svg",className:"".concat((null===(a=e.attachments)||void 0===a?void 0:a.length)?"":"hidden"," rounded-full"),width:28,height:28,alt:"".concat(e.title,"'s picture")}),(0,s.jsx)("p",{className:"text-l font-medium",children:e.title})]})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,j.c6)(e.date)}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:null!==(x=null===(i=e.category)||void 0===i?void 0:i.name)&&void 0!==x?x:"---"}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:null!==(p=e.priority)&&void 0!==p?p:"---"}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:e.assignedToUser?(null===(d=e.assignedToUser)||void 0===d?void 0:d.name)+" ("+(null===(o=e.assignedToUser)||void 0===o?void 0:null===(c=o.role)||void 0===c?void 0:c.name)+")":"---"}),(0,s.jsxs)("td",{className:"whitespace-nowrap px-3 py-3",children:[null===(u=e.details)||void 0===u?void 0:u.slice(0,25),(null===(m=e.details)||void 0===m?void 0:m.length)>25&&"..."]}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:e.tags}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,s.jsx)(v,{status:e.status})}),(0,s.jsx)("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(h,{id:e.id}),r&&(0,s.jsx)(f,{id:e.id})]})})]},e.id)})})]})]})})})}var w=r(9926);let y="before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_2s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/60 before:to-transparent";function N(){return _jsxs("div",{className:"flex flex-row items-center justify-between border-b border-gray-100 py-4",children:[_jsxs("div",{className:"flex items-center",children:[_jsx("div",{className:"mr-2 h-8 w-8 rounded-full bg-gray-200"}),_jsxs("div",{className:"min-w-0",children:[_jsx("div",{className:"h-5 w-40 rounded-md bg-gray-200"}),_jsx("div",{className:"mt-2 h-4 w-12 rounded-md bg-gray-200"})]})]}),_jsx("div",{className:"mt-2 h-4 w-12 rounded-md bg-gray-200"})]})}function k(){return(0,s.jsxs)("tr",{className:"w-full border-b border-gray-100 last-of-type:border-none [&:first-child>td:first-child]:rounded-tl-lg [&:first-child>td:last-child]:rounded-tr-lg [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",children:[(0,s.jsx)("td",{className:"relative overflow-hidden whitespace-nowrap py-3 pl-6 pr-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-100"}),(0,s.jsx)("div",{className:"h-6 w-24 rounded bg-gray-100"})]})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,s.jsx)("div",{className:"h-6 w-32 rounded bg-gray-100"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,s.jsx)("div",{className:"h-6 w-16 rounded bg-gray-100"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,s.jsx)("div",{className:"h-6 w-16 rounded bg-gray-100"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,s.jsx)("div",{className:"h-6 w-16 rounded bg-gray-100"})}),(0,s.jsx)("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)("div",{className:"h-[38px] w-[38px] rounded bg-gray-100"}),(0,s.jsx)("div",{className:"h-[38px] w-[38px] rounded bg-gray-100"})]})})]})}function S(){return(0,s.jsxs)("div",{className:"mb-2 w-full rounded-md bg-white p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-8",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"mr-2 h-8 w-8 rounded-full bg-gray-100"}),(0,s.jsx)("div",{className:"h-6 w-16 rounded bg-gray-100"})]}),(0,s.jsx)("div",{className:"h-6 w-16 rounded bg-gray-100"})]}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between pt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-6 w-16 rounded bg-gray-100"}),(0,s.jsx)("div",{className:"mt-2 h-6 w-24 rounded bg-gray-100"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded bg-gray-100"}),(0,s.jsx)("div",{className:"h-10 w-10 rounded bg-gray-100"})]})]})]})}function R(){return(0,s.jsx)("div",{className:"mt-6 flow-root",children:(0,s.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,s.jsxs)("div",{className:"rounded-lg bg-gray-50 p-2 md:pt-0",children:[(0,s.jsxs)("div",{className:"md:hidden",children:[(0,s.jsx)(S,{}),(0,s.jsx)(S,{}),(0,s.jsx)(S,{}),(0,s.jsx)(S,{}),(0,s.jsx)(S,{}),(0,s.jsx)(S,{})]}),(0,s.jsxs)("table",{className:"hidden min-w-full text-gray-900 md:table",children:[(0,s.jsx)("thead",{className:"rounded-lg text-left text-sm font-normal",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-4 py-5 font-medium sm:pl-6",children:"User"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Email"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Ticket-details"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Date"}),(0,s.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"relative pb-4 pl-3 pr-6 pt-2 sm:pr-6",children:(0,s.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,s.jsxs)("tbody",{className:"bg-white",children:[(0,s.jsx)(k,{}),(0,s.jsx)(k,{}),(0,s.jsx)(k,{}),(0,s.jsx)(k,{}),(0,s.jsx)(k,{}),(0,s.jsx)(k,{})]})]})]})})})}let E=(0,u.createServerReference)("70072a76e4b421f4427321b3236e713702067b481c",u.callServer,void 0,u.findSourceMapURL,"huggingFaceApi");function L(e){var t,r,l,i,d,c;let[o,u]=(0,a.useState)(e.ticketsList1),m=[1,2].includes(null===(r=e.currentUser)||void 0===r?void 0:null===(t=r.role)||void 0===t?void 0:t.id),h=(0,a.useCallback)(()=>{E(o,e.query,e.currentPage).then(e=>{u(e.updatedTickets),alert(e.updatedCount+" tickets updated and categorised.  "+e.spamTickets+" spam-tickets detected.   "+e.ticketsAssigned+" tickets assigned to service-personnel.")})},[]);return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsxs)("h1",{className:"text-2xl",children:[(null===(i=e.currentUser)||void 0===i?void 0:null===(l=i.role)||void 0===l?void 0:l.id)==4&&"Your"," Tickets"]}),(0,s.jsx)(w.$,{title:"Click to activate A.I.",onClick:h,disabled:!m,className:"cursor-pointer ".concat(m?"":"hidden"),children:"A.I Categorization, Filtering"})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-2 md:mt-8",children:[(0,s.jsx)(n.default,{placeholder:"Search tickets..."}),(null===(c=e.currentUser)||void 0===c?void 0:null===(d=c.role)||void 0===d?void 0:d.id)==4&&e.createTicket]}),(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(R,{}),children:(0,s.jsx)(b,{tickets:o,isAdminUser:m})},"ticketsLists1"),(0,s.jsx)("div",{className:"mt-5 flex w-full justify-center",children:e.pagination})]})}},9337:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(2115);let n=s.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},9926:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var s=r(5155),n=r(2596);function l(e){let{children:t,className:r,...l}=e;return(0,s.jsx)("button",{...l,className:(0,n.A)("flex h-10 items-center rounded-lg bg-blue-500 px-4 text-sm font-medium text-white transition-colors hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 aria-disabled:cursor-not-allowed aria-disabled:opacity-50",r),children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,63,441,684,358],()=>t(51)),_N_E=e.O()}]);